# –ì–ª–∞–≤–∞ 6: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è - –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## –û–±–∑–æ—Ä –≥–ª–∞–≤—ã

–®–µ—Å—Ç–∞—è –≥–ª–∞–≤–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ **—Ü–∏—Ñ—Ä–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ (DSP)** –≤ FPGA, –æ–±—ä–µ–¥–∏–Ω—è—è I2C –ø—Ä–æ—Ç–æ–∫–æ–ª —Å–≤—è–∑–∏, –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, floating-point –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫—É –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É. –ò–∑—É—á–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —Å —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –≤ –¥–≤—É—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö: fixed-point –∏ floating-point –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞, –∞ —Ç–∞–∫–∂–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –º–æ—â—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.

![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã](./images/chapter_6_temperature_system_architecture.png)
*–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —Å —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π*

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ –≥–ª–∞–≤–µ

–ì–ª–∞–≤–∞ 6 –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –≤ –≤–∏–¥–µ —Ç—Ä–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–æ–≤:

```
CH6/
‚îú‚îÄ‚îÄ hdl/
‚îÇ   ‚îú‚îÄ‚îÄ temp_pkg.sv        # –ü–∞–∫–µ—Ç —É—Ç–∏–ª–∏—Ç (BCD –∫–æ–Ω–≤–µ—Ä—Å–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ i2c_temp.sv        # –°–∏—Å—Ç–µ–º–∞ —Å fixed-point —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ i2c_temp_flt.sv    # –°–∏—Å—Ç–µ–º–∞ —Å floating-point —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ parallel.sv        # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ tb/                    # –¢–µ—Å—Ç–æ–≤—ã–µ –º–æ–¥—É–ª–∏
‚îî‚îÄ‚îÄ build/
    ‚îú‚îÄ‚îÄ IP/                # Xilinx floating-point IP —è–¥—Ä–∞
    ‚îî‚îÄ‚îÄ xdc/              # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è Nexys A7-100T
```

---

## 1. –û—Å–Ω–æ–≤—ã I2C –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö —Å–µ–Ω—Å–æ—Ä–æ–≤

![I2C –ø—Ä–æ—Ç–æ–∫–æ–ª](./images/chapter_6_i2c_protocol_timing.png)
*–í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ I2C –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–≥–æ —Å–µ–Ω—Å–æ—Ä–∞ TMP102/TMP108*

### 1.1. –ê–Ω–∞–ª–∏–∑ –º–æ–¥—É–ª—è temp_pkg.sv

#### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è BCD –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
```systemverilog
package temp_pkg;
  localparam NUM_SEGMENTS = 8;  // NUM_SEGMENTS = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ 7-—Å–µ–≥–º–µ–Ω—Ç–Ω—ã—Ö —Ä–∞–∑—Ä—è–¥–æ–≤

  function bit [NUM_SEGMENTS-1:0][3:0] bin_to_bcd;
    input [31:0] bin_in;            // bin_in = "binary input" - –≤—Ö–æ–¥–Ω–æ–µ –¥–≤–æ–∏—á–Ω–æ–µ —á–∏—Å–ª–æ
    bit [NUM_SEGMENTS*4-1:0] shifted; // shifted = —Ä–∞–±–æ—á–∏–π —Ä–µ–≥–∏—Å—Ç—Ä –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Å–¥–≤–∏–≥–∞
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**
- `NUM_SEGMENTS` = "number of segments" - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑—Ä—è–¥–æ–≤ –¥–∏—Å–ø–ª–µ—è (8 —Ä–∞–∑—Ä—è–¥–æ–≤)
- `bin_in` = "binary input" - –≤—Ö–æ–¥–Ω–æ–µ 32-–±–∏—Ç–Ω–æ–µ –¥–≤–æ–∏—á–Ω–æ–µ —á–∏—Å–ª–æ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
- `shifted` = —Ä–∞–±–æ—á–∏–π —Ä–µ–≥–∏—Å—Ç—Ä –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ Double Dabble
- `bin_to_bcd` = "binary to BCD" - —Ñ—É–Ω–∫—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –¥–≤–æ–∏—á–Ω–æ–≥–æ —á–∏—Å–ª–∞ –≤ BCD —Ñ–æ—Ä–º–∞—Ç

#### –ê–ª–≥–æ—Ä–∏—Ç–º Double Dabble
```systemverilog
shifted = {30'b0, bin_in[31:30]};        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å 2 —Å—Ç–∞—Ä—à–∏–º–∏ –±–∏—Ç–∞–º–∏
for (int i = 29; i >= 1; i--) begin      // i = –∏–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–≥–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–≥–æ –±–∏—Ç–∞
  shifted = shifted << 1 | bin_in[i];    // –°–¥–≤–∏–≥ –≤–ª–µ–≤–æ + –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–∏—Ç–∞
  for (int j = 0; j < 8; j++) begin      // j = –∏–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–π BCD —Ç–µ—Ç—Ä–∞–¥—ã
    if (shifted[j*4+:4] > 4)             // –ï—Å–ª–∏ —Ç–µ—Ç—Ä–∞–¥–∞ > 4, –¥–æ–±–∞–≤–ª—è–µ–º 3
      shifted[j*4+:4] += 3;
  end
end
```

![–ê–ª–≥–æ—Ä–∏—Ç–º BCD –∫–æ–Ω–≤–µ—Ä—Å–∏–∏](./images/chapter_6_bcd_conversion_algorithm.png)
*–î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ Double Dabble –¥–ª—è BCD –∫–æ–Ω–≤–µ—Ä—Å–∏–∏*

### 1.2. I2C Master Controller (i2c_temp.sv)

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥—É–ª—è
```systemverilog
module i2c_temp #(
  parameter SMOOTHING    = 16,      // SMOOTHING = —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
  parameter INTERVAL     = 1000000000, // INTERVAL = –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏ (–Ω—Å)
  parameter NUM_SEGMENTS = 8,       // NUM_SEGMENTS = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ 7-—Å–µ–≥–º–µ–Ω—Ç–Ω—ã—Ö —Ä–∞–∑—Ä—è–¥–æ–≤
  parameter CLK_PER      = 10       // CLK_PER = "clock period" - –ø–µ—Ä–∏–æ–¥ —Ç–∞–∫—Ç–æ–≤–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ (–Ω—Å)
)
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**
- `SMOOTHING` = —Ä–∞–∑–º–µ—Ä —Å–∫–æ–ª—å–∑—è—â–µ–≥–æ –æ–∫–Ω–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ (16 –æ–±—Ä–∞–∑—Ü–æ–≤)
- `INTERVAL` = –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (1 —Å–µ–∫—É–Ω–¥–∞)
- `NUM_SEGMENTS` = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑—Ä—è–¥–æ–≤ 7-—Å–µ–≥–º–µ–Ω—Ç–Ω–æ–≥–æ –¥–∏—Å–ø–ª–µ—è
- `CLK_PER` = "clock period" - –ø–µ—Ä–∏–æ–¥ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Ç–∞–∫—Ç–æ–≤–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞

#### I2C –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```systemverilog
localparam TIME_1SEC   = int'(INTERVAL/CLK_PER); // TIME_1SEC = —Ç–∞–∫—Ç–æ–≤ –≤ 1 —Å–µ–∫—É–Ω–¥–µ
localparam TIME_THDSTA = int'(600/CLK_PER);      // TIME_THDSTA = "time hold start" - –∑–∞–¥–µ—Ä–∂–∫–∞ START
localparam TIME_TSUSTA = int'(600/CLK_PER);      // TIME_TSUSTA = "time setup start" - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ START
localparam TIME_THIGH  = int'(600/CLK_PER);      // TIME_THIGH = "time high" - –≤—Ä–µ–º—è –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è SCL
localparam TIME_TLOW   = int'(1300/CLK_PER);     // TIME_TLOW = "time low" - –≤—Ä–µ–º—è –Ω–∏–∑–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è SCL
localparam TIME_TSUDAT = int'(20/CLK_PER);       // TIME_TSUDAT = "time setup data" - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
localparam TIME_TSUSTO = int'(600/CLK_PER);      // TIME_TSUSTO = "time setup stop" - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ STOP
localparam TIME_THDDAT = int'(30/CLK_PER);       // TIME_THDDAT = "time hold data" - —É–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ I2C timing –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**
- `TIME_THDSTA` = "time hold start" - –≤—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è SDA –Ω–∏–∑–∫–æ–π –ø–æ—Å–ª–µ START
- `TIME_TSUSTA` = "time setup start" - –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –ø–µ—Ä–µ–¥–∞—á–∏
- `TIME_THIGH` = "time high" - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è —Ç–∞–∫—Ç–æ–≤–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ SCL
- `TIME_TLOW` = "time low" - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∏–∑–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è SCL
- `TIME_THDDAT` = "time hold data" - –≤—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Ñ—Ä–æ–Ω—Ç–∞ SCL

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è I2C –∞–¥—Ä–µ—Å–∞ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
```systemverilog
localparam I2C_ADDR = 7'b1001011;     // I2C_ADDR = –∞–¥—Ä–µ—Å TMP102/TMP108 —Å–µ–Ω—Å–æ—Ä–∞ (0x4B)
localparam I2CBITS = 1 + 7 + 1 + 1 + 8 + 1 + 8 + 1 + 1 + 1; // I2CBITS = –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏—Ç–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ I2C —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:**
```
[START][ADDR_7bit][R/W][ACK][DATA_H_8bit][ACK][DATA_L_8bit][NACK][STOP]
   1  +    7     + 1 + 1 +     8      + 1 +     8      + 1  + 1 + 1 = 30 –±–∏—Ç–æ–≤
```

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã —Å–∏—Å—Ç–µ–º—ã
```systemverilog
(* mark_debug = "true" *) logic sda_en;          // sda_en = "SDA enable" - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–Ω–∏–µ–π SDA
(* mark_debug = "true" *) logic scl_en;          // scl_en = "SCL enable" - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–Ω–∏–µ–π SCL
logic [I2CBITS-1:0] i2c_data;                   // i2c_data = –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ I2C
logic [I2CBITS-1:0] i2c_en;                     // i2c_en = "I2C enable" - –º–∞—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–∏—Ç–æ–≤
logic [I2CBITS-1:0] i2c_capt;                   // i2c_capt = "I2C capture" - –º–∞—Å–∫–∞ –±–∏—Ç–æ–≤ –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞
(* mark_debug = "true" *) logic [$clog2(TIME_1SEC)-1:0] counter; // counter = —Å—á–µ—Ç—á–∏–∫ —Ç–∞–∫—Ç–æ–≤
logic counter_reset;                            // counter_reset = —Å–∏–≥–Ω–∞–ª —Å–±—Ä–æ—Å–∞ —Å—á–µ—Ç—á–∏–∫–∞
(* mark_debug = "true" *) logic [$clog2(I2CBITS)-1:0] bit_count; // bit_count = —Å—á–µ—Ç—á–∏–∫ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –±–∏—Ç–æ–≤
(* mark_debug = "true" *) logic [15:0] temp_data; // temp_data = "temperature data" - –¥–∞–Ω–Ω—ã–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
(* mark_debug = "true" *) logic capture_en;      // capture_en = "capture enable" - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞—Ö–≤–∞—Ç–∞
(* mark_debug = "true" *) logic convert;         // convert = —Å–∏–≥–Ω–∞–ª –Ω–∞—á–∞–ª–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤:**
- `sda_en` = "SDA enable" - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–Ω–∏–µ–π –¥–∞–Ω–Ω—ã—Ö (0=–ø—Ä–∏–∂–∞—Ç—å –∫ GND, 1=–æ—Ç–ø—É—Å—Ç–∏—Ç—å)
- `scl_en` = "SCL enable" - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–∫—Ç–æ–≤–æ–π –ª–∏–Ω–∏–µ–π
- `i2c_data` = –±–∏—Ç–æ–≤—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏
- `i2c_en` = –º–∞—Å–∫–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø–µ—Ä–µ–¥–∞—á–∞/–ø—Ä–∏–µ–º)
- `i2c_capt` = –º–∞—Å–∫–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –∫–∞–∫–∏–µ –±–∏—Ç—ã –Ω—É–∂–Ω–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å
- `counter` = —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å—á–µ—Ç—á–∏–∫ –¥–ª—è –æ—Ç—Å—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
- `bit_count` = —Å—á–µ—Ç—á–∏–∫ —Ç–µ–∫—É—â–µ–≥–æ –±–∏—Ç–∞ –≤ I2C —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `temp_data` = 16-–±–∏—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –æ—Ç —Å–µ–Ω—Å–æ—Ä–∞
- `capture_en` = —Å–∏–≥–Ω–∞–ª —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞—Ö–≤–∞—Ç–∞ —Ç–µ–∫—É—â–µ–≥–æ –±–∏—Ç–∞
- `convert` = –∏–º–ø—É–ª—å—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è I2C —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

#### –ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç I2C –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
```systemverilog
typedef enum bit [2:0] {
  IDLE,    // IDLE = —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–∂–∏–¥–∞–Ω–∏—è (–ø–∞—É–∑–∞ –º–µ–∂–¥—É –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏)
  START,   // START = –≥–µ–Ω–µ—Ä–∞—Ü–∏—è START —É—Å–ª–æ–≤–∏—è
  TLOW,    // TLOW = "time low" - —Ñ–∞–∑–∞ –Ω–∏–∑–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è SCL
  TSU,     // TSU = "time setup" - —Ñ–∞–∑–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
  THIGH,   // THIGH = "time high" - —Ñ–∞–∑–∞ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è SCL
  THD,     // THD = "time hold" - —Ñ–∞–∑–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
  TSTO     // TSTO = "time stop" - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è STOP —É—Å–ª–æ–≤–∏—è
} spi_t;

(* mark_debug = "true" *) spi_t spi_state; // spi_state = —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∞
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∞:**
- `IDLE` = —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∫–æ—è –º–µ–∂–¥—É –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏ (1 —Å–µ–∫—É–Ω–¥–∞)
- `START` = –≥–µ–Ω–µ—Ä–∞—Ü–∏—è START —É—Å–ª–æ–≤–∏—è (SDA –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º SCL)
- `TLOW` = –Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å SCL (–¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è)
- `TSU` = "time setup" - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –ø–æ–¥–Ω—è—Ç–∏–µ–º SCL
- `THIGH` = –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å SCL (–¥–∞–Ω–Ω—ã–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞—Ö–≤–∞—Ç)
- `THD` = "time hold" - —É–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Å–ø–∞–¥–∞ SCL
- `TSTO` = –≥–µ–Ω–µ—Ä–∞—Ü–∏—è STOP —É—Å–ª–æ–≤–∏—è (SDA —Ä–∞—Å—Ç–µ—Ç –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º SCL)

---

## 2. –¶–∏—Ñ—Ä–æ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤

![–§–∏–ª—å—Ç—Ä —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è](./images/chapter_6_moving_average_filter.png)
*–ê–Ω–∞–ª–∏–∑ —Ñ–∏–ª—å—Ç—Ä–∞ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è (Moving Average) —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –æ–∫–Ω–∞*

### 2.1. Fixed-Point —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (i2c_temp.sv)

#### –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
```systemverilog
logic [28:0] smooth_data;    // smooth_data = —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (29 –±–∏—Ç–æ–≤ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è)
logic smooth_convert;        // smooth_convert = —Å–∏–≥–Ω–∞–ª –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
logic [4:0] sample_count;    // sample_count = —Å—á–µ—Ç—á–∏–∫ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –æ–±—Ä–∞–∑—Ü–æ–≤

generate
  if (SMOOTHING == 0) begin : g_NO_SMOOTH      // g_NO_SMOOTH = –≥—Ä—É–ø–ø–∞ –±–µ–∑ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
    assign smooth_data = temp_data >> 3;       // –ü—Ä–æ—Å—Ç–æ–µ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 8 (—Å–º–µ—â–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞)
    assign smooth_convert = convert;
  end else begin : g_SMOOTH                    // g_SMOOTH = –≥—Ä—É–ø–ø–∞ —Å–æ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ–º
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
- `smooth_data` = —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –¥–æ 29 –±–∏—Ç–æ–≤
- `smooth_convert` = —Å–∏–≥–Ω–∞–ª –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –Ω–æ–≤—ã—Ö –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `sample_count` = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –æ–±—Ä–∞–∑—Ü–æ–≤ –≤ –±—É—Ñ–µ—Ä–µ
- `g_NO_SMOOTH` = "group no smoothing" - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- `g_SMOOTH` = "group smoothing" - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞ –∏ –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞
```systemverilog
localparam NINE_FIFTHS = 17'b1_11001100_11001100;  // NINE_FIFTHS = 9/5 –≤ fixed-point (1.8 —Ñ–æ—Ä–º–∞—Ç)
logic [$clog2(SMOOTHING):0] smooth_count;          // smooth_count = —Å—á–µ—Ç—á–∏–∫ –æ–±—Ä–∞–∑—Ü–æ–≤ –≤ —Ñ–∏–ª—å—Ç—Ä–µ
logic [12:0] dout;                                 // dout = "data output" - –≤—ã—Ö–æ–¥ FIFO –±—É—Ñ–µ—Ä–∞
logic rden;                                        // rden = "read enable" - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —á—Ç–µ–Ω–∏—è FIFO
logic [17:0] accumulator;                          // accumulator = –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä –¥–ª—è —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
logic [4:0] convert_pipe;                          // convert_pipe = –∫–æ–Ω–≤–µ–π–µ—Ä —Å–∏–≥–Ω–∞–ª–æ–≤ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
logic [16:0] divide[17];                           // divide = –º–∞—Å—Å–∏–≤ –¥–ª—è —Ç–∞–±–ª–∏—á–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**
- `NINE_FIFTHS` = –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ 9/5 = 1.8 –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ ¬∞C –≤ ¬∞F –≤ —Ñ–æ—Ä–º–∞—Ç–µ Q1.16
- `smooth_count` = —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–∑—Ü–æ–≤ –≤ —Å–∫–æ–ª—å–∑—è—â–µ–º –æ–∫–Ω–µ
- `dout` = –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ FIFO –±—É—Ñ–µ—Ä–∞ (—Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–∑–µ—Ü)
- `rden` = "read enable" - —Å–∏–≥–Ω–∞–ª —á—Ç–µ–Ω–∏—è –∏–∑ FIFO
- `accumulator` = 18-–±–∏—Ç–Ω—ã–π –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä –¥–ª—è —Å—É–º–º—ã –≤—Å–µ—Ö –æ–±—Ä–∞–∑—Ü–æ–≤ –≤ –æ–∫–Ω–µ
- `convert_pipe` = 5-—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä –¥–ª—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤
- `divide[17]` = —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –¥–µ–ª–µ–Ω–∏—è –Ω–∞ SMOOTHING

#### –ê–ª–≥–æ—Ä–∏—Ç–º FIFO –±—É—Ñ–µ—Ä–∞ –∏ —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è
```systemverilog
always @(posedge clk) begin
  convert_pipe <= convert_pipe << 1 | convert;     // –ö–æ–Ω–≤–µ–π–µ—Ä –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–∏–≥–Ω–∞–ª–∞ convert

  if (convert) begin
    accumulator <= accumulator + (temp_data >> 3); // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –æ–±—Ä–∞–∑–µ—Ü
    if (smooth_count == SMOOTHING) begin           // –ï—Å–ª–∏ –±—É—Ñ–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω
      rden <= '1;                                  // –ß–∏—Ç–∞–µ–º —Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–∑–µ—Ü
      accumulator <= accumulator + (temp_data >> 3) - dout; // –í—ã—á–∏—Ç–∞–µ–º —Å—Ç–∞—Ä—ã–π
    end else smooth_count <= smooth_count + 1'b1;  // –ò–Ω–∞—á–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
  end else rden <= '0;

  if (convert_pipe[1]) begin                       // –ß–µ—Ä–µ–∑ 2 —Ç–∞–∫—Ç–∞ –ø–æ—Å–ª–µ convert
    smooth_data <= divide[smooth_count-1];        // –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–ª–µ–Ω–∏—è
  end
end
```

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã —Å–∫–æ–ª—å–∑—è—â–µ–≥–æ –æ–∫–Ω–∞:**
1. **–ù–æ–≤—ã–π –æ–±—Ä–∞–∑–µ—Ü** –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä
2. **–ï—Å–ª–∏ –æ–∫–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ** - –≤—ã—á–∏—Ç–∞–µ—Ç—Å—è —Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–∑–µ—Ü
3. **–î–µ–ª–µ–Ω–∏–µ** –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç** –≥–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ 2 —Ç–∞–∫—Ç–∞ –ø–æ—Å–ª–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑—Ü–∞

### 2.2. –ö–æ–Ω–≤–µ—Ä—Å–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã ¬∞C ‚Üî ¬∞F

#### Fixed-Point –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
```systemverilog
logic [31:0] temp_c;      // temp_c = "temperature Celsius" - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –¶–µ–ª—å—Å–∏—è—Ö
logic [31:0] temp_f;      // temp_f = "temperature Fahrenheit" - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –§–∞—Ä–µ–Ω–≥–µ–π—Ç–∞—Ö

// –ö–æ–Ω–≤–µ—Ä—Å–∏—è: F = C * 9/5 + 32
assign temp_f = (temp_c * NINE_FIFTHS >> 16) + 32; // Fixed-point —É–º–Ω–æ–∂–µ–Ω–∏–µ –∏ —Å–¥–≤–∏–≥
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏:**
- `temp_c` = —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å–∏—è (—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç)
- `temp_f` = —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –§–∞—Ä–µ–Ω–≥–µ–π—Ç–∞
- `NINE_FIFTHS` = –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 9/5 –≤ —Ñ–æ—Ä–º–∞—Ç–µ Q1.16 fixed-point
- –û–ø–µ—Ä–∞—Ü–∏—è `>> 16` = –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É –ø–æ—Å–ª–µ —É–º–Ω–æ–∂–µ–Ω–∏—è

---

## 3. Floating-Point –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –∏ Xilinx IP —è–¥—Ä–∞

![Fixed-Point vs Floating-Point](./images/chapter_6_fixed_vs_floating_point.png)
*–°—Ä–∞–≤–Ω–µ–Ω–∏–µ fixed-point –∏ floating-point –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏ –≤ FPGA*

### 3.1. –ê–Ω–∞–ª–∏–∑ –º–æ–¥—É–ª—è i2c_temp_flt.sv

–ú–æ–¥—É–ª—å `i2c_temp_flt.sv` —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ç—É –∂–µ —Å–∏—Å—Ç–µ–º—É –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **IEEE 754 floating-point** –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫—É —á–µ—Ä–µ–∑ Xilinx IP —è–¥—Ä–∞.

#### Floating-Point IP —è–¥—Ä–∞
```systemverilog
// –ö–æ–Ω–≤–µ—Ä—Å–∏—è fixed ‚Üí floating-point
fix_to_float u_fix_to_float (
  .aclk(clk),                    // aclk = "AXI clock" - —Ç–∞–∫—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª AXI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  .s_axis_a_tdata(temp_fixed),   // s_axis_a_tdata = "slave AXI stream A data" - –≤—Ö–æ–¥–Ω—ã–µ fixed –¥–∞–Ω–Ω—ã–µ
  .s_axis_a_tvalid(convert),     // s_axis_a_tvalid = "slave AXI A valid" - —Å–∏–≥–Ω–∞–ª –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤—Ö–æ–¥–∞
  .m_axis_result_tdata(temp_float), // m_axis_result_tdata = "master AXI result data" - –≤—ã—Ö–æ–¥–Ω—ã–µ float –¥–∞–Ω–Ω—ã–µ
  .m_axis_result_tvalid(float_valid) // m_axis_result_tvalid = "master AXI result valid" - –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –≤—ã—Ö–æ–¥–∞
);

// Floating-point —É–º–Ω–æ–∂–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ ¬∞C ‚Üí ¬∞F
fp_mult u_fp_mult (
  .aclk(clk),
  .s_axis_a_tdata(temp_celsius),      // temp_celsius = —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ ¬∞C (float)
  .s_axis_b_tdata(32'h3FE66666),      // –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ 1.8 (9/5) –≤ IEEE 754 —Ñ–æ—Ä–º–∞—Ç–µ
  .s_axis_a_tvalid(mult_valid),       // mult_valid = –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –≤—Ö–æ–¥–æ–≤ —É–º–Ω–æ–∂–∏—Ç–µ–ª—è
  .s_axis_b_tvalid(mult_valid),
  .m_axis_result_tdata(mult_result),  // mult_result = —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–º–Ω–æ–∂–µ–Ω–∏—è C * 1.8
  .m_axis_result_tvalid(mult_done)    // mult_done = —Å–∏–≥–Ω–∞–ª –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
);
```

![Xilinx IP —è–¥—Ä–∞](./images/chapter_6_xilinx_ip_cores.png)
*–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Xilinx Floating-Point IP —è–¥–µ—Ä*

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ Xilinx IP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:**
- `aclk` = "AXI clock" - —Ç–∞–∫—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª AXI4-Stream –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- `s_axis_a_tdata` = "slave AXI stream A data" - –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–∞–Ω–∞–ª—É A
- `s_axis_a_tvalid` = "slave AXI A valid" - —Å–∏–≥–Ω–∞–ª –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `m_axis_result_tdata` = "master AXI result data" - –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- `m_axis_result_tvalid` = "master AXI result valid" - –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `temp_float` = —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ IEEE 754 single precision
- `mult_result` = —Ä–µ–∑—É–ª—å—Ç–∞—Ç floating-point —É–º–Ω–æ–∂–µ–Ω–∏—è
- `32'h3FE66666` = —á–∏—Å–ª–æ 1.8 –≤ IEEE 754 —Ñ–æ—Ä–º–∞—Ç–µ (hex –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)

#### –ö–æ–Ω–≤–µ—Ä—Å–∏—è floating-point ‚Üí fixed-point
```systemverilog
flt_to_fix u_flt_to_fix (
  .aclk(clk),
  .s_axis_a_tdata(final_temp),        // final_temp = —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C –∏–ª–∏ ¬∞F)
  .s_axis_a_tvalid(final_valid),      // final_valid = –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
  .m_axis_result_tdata(display_temp), // display_temp = —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (fixed)
  .m_axis_result_tvalid(display_valid) // display_valid = –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–∏—Å–ø–ª–µ—è
);
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ floating-point –ø–æ–¥—Ö–æ–¥–∞:**
- **–í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å**: IEEE 754 –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç ~7 –∑–Ω–∞—á–∞—â–∏—Ö —Ü–∏—Ñ—Ä
- **–®–∏—Ä–æ–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω**: –æ—Ç ¬±1.18√ó10‚Åª¬≥‚Å∏ –¥–æ ¬±3.40√ó10¬≥‚Å∏
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è**: —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º–∏
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤**: –ø—Ä—è–º–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- **–†–µ—Å—É—Ä—Å—ã FPGA**: —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª—å—à–µ LUT –∏ DSP –±–ª–æ–∫–æ–≤
- **–õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: 6-12 —Ç–∞–∫—Ç–æ–≤ –∑–∞–¥–µ—Ä–∂–∫–∏ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è IP —è–¥–µ—Ä

---

## 4. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

![–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ —Ä–µ–¥—É–∫—Ü–∏–∏](./images/chapter_6_parallel_reduction_tree.png)
*–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ —Ä–µ–¥—É–∫—Ü–∏–∏ –¥–ª—è —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è 256 —ç–ª–µ–º–µ–Ω—Ç–æ–≤*

### 4.1. –ê–Ω–∞–ª–∏–∑ –º–æ–¥—É–ª—è parallel.sv

–ú–æ–¥—É–ª—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–æ—â—å **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏** –≤ FPGA —á–µ—Ä–µ–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–µ—Ä–µ–≤–∞ —Ä–µ–¥—É–∫—Ü–∏–∏.

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ —Å—É–º–º–∞—Ç–æ—Ä–∞
```systemverilog
module parallel (
  input wire clk,                  // clk = —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç–∞–∫—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª
  input wire [255:0][31:0] in_data, // in_data = –≤—Ö–æ–¥–Ω–æ–π –º–∞—Å—Å–∏–≤ –∏–∑ 256 32-–±–∏—Ç–Ω—ã—Ö —á–∏—Å–µ–ª
  input wire in_valid,             // in_valid = "input valid" - –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

  output logic [63:0] out_data,    // out_data = —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è (64-–±–∏—Ç–Ω–æ–µ —á–∏—Å–ª–æ)
  output logic out_valid           // out_valid = "output valid" - –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
);
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**
- `in_data` = –º–∞—Å—Å–∏–≤ –∏–∑ 256 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ 32 –±–∏—Ç–∞ –∫–∞–∂–¥—ã–π (–≤—Å–µ–≥–æ 8192 –±–∏—Ç–∞)
- `in_valid` = —Å–∏–≥–Ω–∞–ª –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤—Å–µ–≥–æ –≤—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
- `out_data` = 64-–±–∏—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- `out_valid` = —Å–∏–≥–Ω–∞–ª –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

#### –£—Ä–æ–≤–Ω–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞
```systemverilog
logic [127:0][63:0] int_data0;  // int_data0 = –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω—è 0 (128 —Å—É–º–º)
logic [63:0][63:0]  int_data1;  // int_data1 = –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω—è 1 (64 —Å—É–º–º—ã)
logic [31:0][63:0]  int_data2;  // int_data2 = –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω—è 2 (32 —Å—É–º–º—ã)
logic [15:0][63:0]  int_data3;  // int_data3 = –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω—è 3 (16 —Å—É–º–º)
logic [7:0][63:0]   int_data4;  // int_data4 = –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω—è 4 (8 —Å—É–º–º)
logic [3:0][63:0]   int_data5;  // int_data5 = –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω—è 5 (4 —Å—É–º–º—ã)
logic [1:0][63:0]   int_data6;  // int_data6 = –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω—è 6 (2 —Å—É–º–º—ã)
logic [6:0]         int_valid;  // int_valid = –∫–æ–Ω–≤–µ–π–µ—Ä –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ (7 —Å—Ç—É–ø–µ–Ω–µ–π)
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–µ—Ä–µ–≤–∞:**
- `int_data0` = –ø–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å: 256‚Üí128 (–∫–∞–∂–¥–∞—è —Å—É–º–º–∞ –∏–∑ 2 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- `int_data1` = –≤—Ç–æ—Ä–æ–π —É—Ä–æ–≤–µ–Ω—å: 128‚Üí64 (–∫–∞–∂–¥–∞—è —Å—É–º–º–∞ –∏–∑ 4 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- `int_data2` = —Ç—Ä–µ—Ç–∏–π —É—Ä–æ–≤–µ–Ω—å: 64‚Üí32 (–∫–∞–∂–¥–∞—è —Å—É–º–º–∞ –∏–∑ 8 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- –ò —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- `int_valid` = —Å–¥–≤–∏–≥–æ–≤—ã–π —Ä–µ–≥–∏—Å—Ç—Ä –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω–≤–µ–π–µ—Ä

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
```systemverilog
always @(posedge clk) begin
  // –£—Ä–æ–≤–µ–Ω—å 0: 256 ‚Üí 128 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  for (int i = 0; i < 128; i++) begin
    int_data0[i] <= in_data[i*2+0] + in_data[i*2+1];  // i = –∏–Ω–¥–µ–∫—Å –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
  end

  // –£—Ä–æ–≤–µ–Ω—å 1: 128 ‚Üí 64 —ç–ª–µ–º–µ–Ω—Ç–∞
  for (int i = 0; i < 64; i++) begin
    int_data1[i] <= int_data0[i*2+0] + int_data0[i*2+1];
  end

  // ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π

  // –§–∏–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
  out_data <= int_data6[0] + int_data6[1];

  // –ö–æ–Ω–≤–µ–π–µ—Ä –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏
  int_valid <= int_valid << 1 | in_valid;  // –°–¥–≤–∏–≥ –≤–ª–µ–≤–æ + –Ω–æ–≤—ã–π –±–∏—Ç
  out_valid <= int_valid[6];                // –í—ã—Ö–æ–¥ —á–µ—Ä–µ–∑ 7 —Ç–∞–∫—Ç–æ–≤
end
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
- **–õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: 8 —Ç–∞–∫—Ç–æ–≤ (–æ—Ç –≤—Ö–æ–¥–∞ –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞)
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: 1 —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ —Ç–∞–∫—Ç (–ø–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω–≤–µ–π–µ—Ä–∞)
- **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**: 128 —Å—É–º–º–∞—Ç–æ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 32√ó –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º

---

## 5. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å 7-—Å–µ–≥–º–µ–Ω—Ç–Ω–æ–≥–æ –¥–∏—Å–ø–ª–µ—è

### 5.1. –ú–æ–¥—É–ª—å seven_segment (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≥–ª–∞–≤)

#### –ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å–ø–ª–µ—è
```systemverilog
logic [$clog2(NUM_SEGMENTS)-1:0] anode_count;    // anode_count = —Å—á–µ—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞–∑—Ä—è–¥–∞ –¥–∏—Å–ø–ª–µ—è
logic [$clog2(INTERVAL)-1:0]     refresh_count; // refresh_count = —Å—á–µ—Ç—á–∏–∫ —á–∞—Å—Ç–æ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

always @(posedge clk) begin
  if (refresh_count == INTERVAL) begin
    refresh_count <= '0;
    anode_count <= anode_count + 1'b1;           // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ä–∞–∑—Ä—è–¥—É
  end else
    refresh_count <= refresh_count + 1'b1;       // –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç —Å—á–µ—Ç—á–∏–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

  anode <= '1;                                   // –û—Ç–∫–ª—é—á–∏—Ç—å –≤—Å–µ —Ä–∞–∑—Ä—è–¥—ã
  anode[anode_count] <= '0;                      // –í–∫–ª—é—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–∞–∑—Ä—è–¥
  cathode <= segments[anode_count];              // –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ä–∞–∑—Ä—è–¥–∞
end
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏—Å–ø–ª–µ—è:**
- `anode_count` = –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞–∑—Ä—è–¥–∞ (0-7)
- `refresh_count` = —Å—á–µ—Ç—á–∏–∫ —Ç–∞–∫—Ç–æ–≤ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —á–∞—Å—Ç–æ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `INTERVAL` = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–∫—Ç–æ–≤ –º–µ–∂–¥—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è–º–∏ —Ä–∞–∑—Ä—è–¥–æ–≤
- `anode` = —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã —Ä–∞–∑—Ä—è–¥–æ–≤ (–∞–∫—Ç–∏–≤–Ω—ã–π –Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å)
- `cathode` = —Å–∏–≥–Ω–∞–ª—ã —Å–µ–≥–º–µ–Ω—Ç–æ–≤ —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–∑—Ä—è–¥–∞

### 5.2. –ö–æ–Ω–≤–µ—Ä—Å–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

#### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–ª–æ–π –∏ –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç–µ–π
```systemverilog
logic [NUM_SEGMENTS-1:0][3:0] encoded;      // encoded = –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–∏—Å–ø–ª–µ—è
logic [NUM_SEGMENTS-1:0][3:0] encoded_int;  // encoded_int = "encoded integer" - —Ü–µ–ª–∞—è —á–∞—Å—Ç—å
logic [NUM_SEGMENTS-1:0][3:0] encoded_frac; // encoded_frac = "encoded fraction" - –¥—Ä–æ–±–Ω–∞—è —á–∞—Å—Ç—å
logic [NUM_SEGMENTS-1:0]       digit_point; // digit_point = –ø–æ–∑–∏—Ü–∏–∏ –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö —Ç–æ—á–µ–∫

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Ç–æ—á–∫–∏
assign digit_point[3] = '1;  // –¢–æ—á–∫–∞ –ø–æ—Å–ª–µ 4-–≥–æ —Ä–∞–∑—Ä—è–¥–∞ —Å–ø—Ä–∞–≤–∞ (XXX.X —Ñ–æ—Ä–º–∞—Ç)
assign encoded = SW ? encoded_int : encoded_frac; // –í—ã–±–æ—Ä –ø–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—é
```

**–§–æ—Ä–º–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
- **–†–µ–∂–∏–º ¬∞C**: `XX.XX¬∞C` - —Ç–æ—á–∫–∞ –ø–æ—Å–ª–µ –≤—Ç–æ—Ä–æ–≥–æ —Ä–∞–∑—Ä—è–¥–∞
- **–†–µ–∂–∏–º ¬∞F**: `XXX.X¬∞F` - —Ç–æ—á–∫–∞ –ø–æ—Å–ª–µ —Ç—Ä–µ—Ç—å–µ–≥–æ —Ä–∞–∑—Ä—è–¥–∞
- `encoded_int` = BCD –¥–∞–Ω–Ω—ã–µ —Ü–µ–ª–æ–π —á–∞—Å—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- `encoded_frac` = BCD –¥–∞–Ω–Ω—ã–µ –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- `digit_point` = –º–∞—Å–∫–∞ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö —Ç–æ—á–µ–∫

---

## 6. –û—Ç–ª–∞–¥–∫–∞ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

### 6.1. –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
```systemverilog
(* mark_debug = "true" *) logic sda_en;         // –î–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è I2C SDA
(* mark_debug = "true" *) logic scl_en;         // –î–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è I2C SCL
(* mark_debug = "true" *) logic [15:0] temp_data; // –î–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–µ–Ω—Å–æ—Ä–∞
(* mark_debug = "true" *) spi_t spi_state;      // –î–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∞
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Ç–ª–∞–¥–∫–∏:**
1. **I2C –ø—Ä–æ—Ç–æ–∫–æ–ª**: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ sda_en, scl_en, spi_state
2. **–î–∞–Ω–Ω—ã–µ —Å–µ–Ω—Å–æ—Ä–∞**: –ø—Ä–æ–≤–µ—Ä–∫–∞ temp_data –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ accumulator –∏ smooth_data
4. **Timing**: –∫–æ–Ω—Ç—Ä–æ–ª—å counter –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

### 6.2. Timing –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏
```tcl
# –°–∏—Å—Ç–µ–º–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ 100 MHz
create_clock -period 10.0 [get_ports clk]

# I2C –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –º–µ–¥–ª–µ–Ω–Ω—ã–π, –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω
set_output_delay -clock clk 2.0 [get_ports TMP_SCL]
set_output_delay -clock clk 2.0 [get_ports TMP_SDA]
set_input_delay -clock clk 2.0 [get_ports TMP_SDA]

# 7-—Å–µ–≥–º–µ–Ω—Ç–Ω—ã–π –¥–∏—Å–ø–ª–µ–π
set_output_delay -clock clk 1.0 [get_ports {anode[*] cathode[*]}]

# –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏
set_input_delay -clock clk 0.0 [get_ports SW]
set_false_path -from [get_ports SW]  # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª
```

---

## 7. –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ–¥—Ö–æ–¥–æ–≤

### 7.1. Fixed-Point vs Floating-Point

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Fixed-Point | Floating-Point |
|----------------|-------------|----------------|
| **–¢–æ—á–Ω–æ—Å—Ç—å** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è | –í—ã—Å–æ–∫–∞—è, –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è |
| **–î–∏–∞–ø–∞–∑–æ–Ω** | –£–∑–∫–∏–π (-128.0 –¥–æ +127.996) | –®–∏—Ä–æ–∫–∏–π (¬±10¬≥‚Å∏) |
| **–†–µ—Å—É—Ä—Å—ã LUT** | 150-200 | 800-1200 |
| **DSP –±–ª–æ–∫–∏** | 0-2 | 4-8 |
| **–õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** | 1-2 —Ç–∞–∫—Ç–∞ | 6-12 —Ç–∞–∫—Ç–æ–≤ |
| **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** | –°–ª–æ–∂–Ω–∞—è (–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ) | –ü—Ä–æ—Å—Ç–∞—è (—Å—Ç–∞–Ω–¥–∞—Ä—Ç IEEE) |
| **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ** | –ü—Ä–æ—Å—Ç—ã–µ —Å–∏—Å—Ç–µ–º—ã | –í—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è |

### 7.2. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è vs –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è |
|----------|------------------|--------------|
| **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** | 256 —Ç–∞–∫—Ç–æ–≤ | 8 —Ç–∞–∫—Ç–æ–≤ |
| **–†–µ—Å—É—Ä—Å—ã** | 1 —Å—É–º–º–∞—Ç–æ—Ä | 127 —Å—É–º–º–∞—Ç–æ—Ä–æ–≤ |
| **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** | 1/256 –æ–ø–µ—Ä–∞—Ü–∏–π/—Ç–∞–∫—Ç | 1 –æ–ø–µ—Ä–∞—Ü–∏—è/—Ç–∞–∫—Ç |
| **–≠–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ** | –ù–∏–∑–∫–æ–µ | –í—ã—Å–æ–∫–æ–µ |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –ü—Ä–æ—Å—Ç–∞—è | –°–ª–æ–∂–Ω–∞—è |

---

## 8. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 8.1. –í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥–∞ –∫ –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–µ

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Fixed-Point –∫–æ–≥–¥–∞:**
- –î–∏–∞–ø–∞–∑–æ–Ω –¥–∞–Ω–Ω—ã—Ö –∏–∑–≤–µ—Å—Ç–µ–Ω –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω
- –ö—Ä–∏—Ç–∏—á–Ω—ã —Ä–µ—Å—É—Ä—Å—ã FPGA
- –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∞–∂–Ω–µ–µ —Ç–æ—á–Ω–æ—Å—Ç–∏

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Floating-Point –∫–æ–≥–¥–∞:**
- –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
- –î–∏–∞–ø–∞–∑–æ–Ω –¥–∞–Ω–Ω—ã—Ö —à–∏—Ä–æ–∫–∏–π –∏–ª–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ –≤–∞–∂–Ω–∞
- –î–æ—Å—Ç—É–ø–Ω—ã —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è IP —è–¥–µ—Ä

### 8.2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è:**
- **SMOOTHING = 4**: –±—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è, —Å–ª–∞–±–æ–µ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞
- **SMOOTHING = 16**: —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø—Ä–æ–º–∏—Å—Å
- **SMOOTHING = 64**: —Å–∏–ª—å–Ω–æ–µ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ, –º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:**
- **IIR —Ñ–∏–ª—å—Ç—Ä—ã**: –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, –≤–æ–∑–º–æ–∂–Ω–∞ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- **FIR —Ñ–∏–ª—å—Ç—Ä—ã**: —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ, –ª–∏–Ω–µ–π–Ω–∞—è —Ñ–∞–∑–∞, –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ú–µ–¥–∏–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã**: –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø—É–ª—å—Å–Ω—ã—Ö –ø–æ–º–µ—Ö

### 8.3. I2C –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Fast Mode (400 kHz) –≤–º–µ—Å—Ç–æ Standard (100 kHz)
- Burst —á—Ç–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –∑–∞ –æ–¥–Ω—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- –ö–æ–Ω–≤–µ–π–µ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ –≤—Ä–µ–º—è I2C –æ–ø–µ—Ä–∞—Ü–∏–π

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- Timeout –¥–ª—è –∑–∞–≤–∏—Å—à–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ü–æ–≤—Ç–æ—Ä –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ ACK
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ä–∞–∑—É–º–Ω–æ—Å—Ç—å

---

## 9. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –∏ –∫–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

### –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≥–ª–∞–≤—ã

–ì–ª–∞–≤–∞ 6 –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –∫ **–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–º—É —Ü–∏—Ñ—Ä–æ–≤–æ–º—É –¥–∏–∑–∞–π–Ω—É**, –æ–±—ä–µ–¥–∏–Ω—è—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π:

#### üéØ **–û—Å–≤–æ–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**
1. **I2C –ø—Ä–æ—Ç–æ–∫–æ–ª** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–µ–Ω—Å–æ—Ä–æ–≤
2. **–¶–∏—Ñ—Ä–æ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è –∏ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —à—É–º–∞
3. **Floating-point –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞** - –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ FPGA
4. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞
5. **IP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö IP —è–¥–µ—Ä Xilinx

#### ‚ö° **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏**
1. **Timing –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã** - —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
2. **–°–º–µ—à–∞–Ω–Ω–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞** - —Å–æ—á–µ—Ç–∞–Ω–∏–µ fixed –∏ floating-point
3. **–ö–æ–Ω–≤–µ–π–µ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
4. **–†–µ—Å—É—Ä—Å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –≤—ã–±–æ—Ä –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ –∑–∞—Ç—Ä–∞—Ç–∞–º–∏
5. **–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

#### üìä **–í—ã–±–æ—Ä –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏**
- **Fixed-Point**: –¥–ª—è —Ä–µ—Å—É—Ä—Å–Ω–æ-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Å—Ç—ã—Ö —Å–∏—Å—Ç–µ–º
- **Floating-Point**: –¥–ª—è –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
- **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: fixed –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, floating –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

#### üîÑ **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –≤ FPGA**
- **–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**: –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–ö–æ–Ω–≤–µ–π–µ—Ä–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**: –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏
- **–î–µ—Ä–µ–≤–æ —Ä–µ–¥—É–∫—Ü–∏–∏**: –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

#### üéõ **–ü—Ä–æ—Ç–æ–∫–æ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**
- **–ö–æ–Ω–µ—á–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç—ã** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
- **–í—Ä–µ–º–µ–Ω–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ
- **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –∫–æ–Ω–≤–µ–π–µ—Ä–∏–∑–∞—Ü–∏—è** –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º —Ç–µ–º–∞–º

–ü–æ—Å–ª–µ –æ—Å–≤–æ–µ–Ω–∏—è –ì–ª–∞–≤—ã 6 –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø—É—Ç–∏ –∫:

#### üöÄ **–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**
- **DSP –∞–ª–≥–æ—Ä–∏—Ç–º—ã**: FFT, —Ñ–∏–ª—å—Ç—Ä—ã, –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è
- **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ**: –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏ –≤ FPGA
- **–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è**: –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

#### üåê **–°–µ—Ç–µ–≤—ã–µ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã**
- **Ethernet**: –≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω–∞—è —Å–µ—Ç–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- **PCIe**: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∫ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–∞–º
- **USB, SATA**: –º–∞—Å—Å–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–∞–Ω–Ω—ã—Ö

#### üî¨ **–ù–∞—É—á–Ω—ã–µ –∏ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤**: —Ä–∞–¥–∞—Ä, —Å–≤—è–∑—å, –∞—É–¥–∏–æ
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- **–ò–∑–º–µ—Ä–µ–Ω–∏—è**: –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã–µ –∏–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–≤–æ–¥—ã

#### ‚ö†Ô∏è **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã**
1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è** - –Ω–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è
2. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π** - –∏–∑–º–µ—Ä—è–π—Ç–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞
3. **–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –∑–∞—Ä–∞–Ω–µ–µ** - IP —è–¥—Ä–∞ –ø–æ—Ç—Ä–µ–±–ª—è—é—Ç –º–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–æ–≤
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è** - –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è floating-point
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ timing —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤

#### üéØ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**
–° –æ—Å–≤–æ–µ–Ω–∏–µ–º –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ floating-point –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏, —Å–ª–µ–¥—É—é—â–∏–µ –≥–ª–∞–≤—ã –º–æ–≥—É—Ç —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤, —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π.

---

*–ì–ª–∞–≤–∞ 6 –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∏–∑—É—á–µ–Ω–∏–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –≤ FPGA. –°–æ—á–µ—Ç–∞–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—å–Ω–æ–π —Å–≤—è–∑–∏, —Ü–∏—Ñ—Ä–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤, –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —Å–æ–∑–¥–∞–µ—Ç –º–æ—â–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.*